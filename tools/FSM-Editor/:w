#include "ButtonArrow.h"

#include "render/Render.h"

ButtonArrow::ButtonArrow(fei::Button* ba, fei::Button* bb)
: _ba(ba),
  _bb(bb)
{
}

void ButtonArrow::drawIt()
{
	auto pa = _ba->getCenter();
	auto pb = _bb->getCenter();
	seg.a = pa;
	seg.b = pb;
	fei::Vec2 collideP;
	if (_bb->getRect().collideSegment(collideP, seg)) {
		auto segVec = seg.getVector().normalized();
		auto segVVec = segVec.getVerticalVector();
		auto arrowP = seg.b - segVec * 10.0f + segVVec * 5.0f;
		fei::Render::drawLine(collideP, arrowP);
	}
	fei::Render::drawShape(&seg);
}
